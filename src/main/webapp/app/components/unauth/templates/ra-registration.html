  <div ng-include="'app/components/unauth/templates/unauth-header.html'" ng-controller="unauthHeaderController"></div>

	<!-- Page Content -->
    <div class="container">
		<div class="row">
			<div class="page-heading">
				<h3 class="page-title">Registered Agent</h3>
			</div>
		</div>
        <div class="row" ng-show="raRegForm">
            <div class="col-md-12">
                <div class="panel panel-default">
					<div class="panel-heading">
						<h3 class="panel-title"><i class="fa fa-arrow-right" aria-hidden="true"></i> Registration Form</h3>
					</div>
                    <div class="panel-body">
                        <form role="form" name="regForm" novalidate>
                            <fieldset>
								<div class="row">
									<div class="col-md-6">
										<div class="panel panel-default">
											<div class="panel-heading">
												<h4 class="panel-title" style="font-size:18px;"> Authentication Details</h4>
											</div>
											<div class="panel-body">
												<label>User Name<sup class="errMsg">*</sup></label>
												<div class="form-group">
													<!-- <span class="errMsg" ng-show="userExistError" id="username_exists_err_msg">Please use different User Name</span> -->
													<span class="errMsg" ng-show="(regForm.uname.$touched)&&(regForm.uname.$invalid)" id="username_err_msg">Invalid</span>
													<input class="form-control" placeholder="User Name" name="uname" type="text" ng-model="userDetails.username" ng-pattern="/^[a-zA-Z0-9._-]{2,30}$/" autofocus required id="username_tb">
													<!-- <input class="form-control" placeholder="User Name" type="text" id="username_tb" /> -->
												</div>
												<label>Password<sup class="errMsg">*</sup></label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.pass.$touched)&&(regForm.pass.$invalid)" id="password_err_msg">Invalid (6-15 characters)</span>
													<input class="form-control" placeholder="Password" name="pass" type="password" ng-model="userDetails.password" ng-pattern="/^[a-zA-Z0-9._!@#$%^&*-]{6,15}$/" required id="password_tb">
													<!-- <input class="form-control" placeholder="Password" type="password" id="password_tb" /> -->
												</div>
												<label>Confirm Password<sup class="errMsg">*</sup></label>
												<div class="form-group">
													<span class="errMsg" id="conf_password_err_msg">{{passMsg}}</span>
													<input class="form-control" placeholder="Confirm Password" name="confPass" type="password" ng-model="confpass" ng-keyup="passCheck()" ng-pattern="/^[a-zA-Z0-9._!@#$%^&*-]{6,15}$/" required id="conf_password_tb">
													<!-- <input class="form-control" placeholder="Confirm Password" type="password" id="conf_password_tb" /> -->
												</div>
                        <label>Password Question<sup class="errMsg">*</sup></label>
                        <div class="form-group">
                          <span class="errMsg" ng-show="(regForm.passQues.$touched)&&(regForm.passQues.$invalid)" id="pass_ques_err_msg">Invalid</span>
                          <input class="form-control" placeholder="Password Question" name="passQues" type="text" ng-model="userDetails.passwordQuestion" ng-pattern="/^[a-zA-Z0-9.,? ]{1,255}$/" required id="pass_ques_tb">
                        </div>
                        <label>Password Answer<sup class="errMsg">*</sup></label>
                        <div class="form-group">
                          <span class="errMsg" ng-show="(regForm.passAnsw.$touched)&&(regForm.passAnsw.$invalid)" id="pass_answ_err_msg">Invalid</span>
                          <input class="form-control" placeholder="Password Answer" name="passAnsw" type="text" ng-model="userDetails.passwordAnswer" ng-pattern="/^[a-zA-Z0-9.,? ]{1,255}$/" required id="pass_answ_tb">
                        </div>
											</div>
										</div>
                    <div class="panel panel-default">
											<div class="panel-heading">
												<h4 class="panel-title" style="font-size:18px;"> Organization Details</h4>
											</div>
											<div class="panel-body">
												<label>Organization Name<sup class="errMsg">*</sup></label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.orgName.$touched)&&(regForm.orgName.$invalid)" id="org_name_err_msg">Invalid (1-20 characters)</span>
													<input class="form-control" placeholder="Organization Name" name="orgName" type="text" ng-model="userDetails.organizationName" ng-pattern="/^[a-zA-Z ]{1,20}$/" required id="org_name_tb">
												</div>
                        <label>Role Type<sup class="errMsg">*</sup></label>
                        <div class="form-group">
                          <span class="errMsg" ng-show="(regForm.roleType.$touched)&&(regForm.roleType.$invalid)" id="role_type_err_msg">Invalid</span>
                          <select class="form-control" id="role_type" name="roleType" ng-options="role.roleId as role.roleCode for role in roleTypeList" ng-model="userDetails.roleTbl.roleId" required>
														<option value="" label="Select" disabled selected="selected"></option>
													</select>
												</div>
											</div>
										</div>
										<div class="panel panel-default">
											<div class="panel-heading">
												<h4 class="panel-title" style="font-size:18px;"> Personal Details</h4>
											</div>
											<div class="panel-body">
												<label>First Name<sup class="errMsg">*</sup></label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.fname.$touched)&&(regForm.fname.$invalid)" id="fname_err_msg">Invalid (1-20 characters)</span>
													<input class="form-control" placeholder="First Name" name="fname" type="text" ng-model="userDetails.firstName" ng-pattern="/^[a-zA-Z ]{1,20}$/" required id="fname_tb">
													<!-- <input class="form-control" placeholder="First Name" type="text"  id="fname_tb" /> -->
												</div>
												<label>Middle Name</label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.mname.$touched)&&(regForm.mname.$invalid)" id="mname_err_msg">Invalid (1-20 characters)</span>
													<input class="form-control" placeholder="Middle Name" name="mname" type="text" ng-model="middleName" ng-pattern="/^[a-zA-Z ]{1,20}$/" id="mname_tb">
													<!-- <input class="form-control" placeholder="Middle Name" type="text" id="mname_tb" /> -->
												</div>
												<label>Last Name<sup class="errMsg">*</sup></label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.lname.$touched)&&(regForm.lname.$invalid)" id="lname_err_msg">Invalid (1-20 characters)</span>
													<input class="form-control" placeholder="Last Name" name="lname" type="text" ng-model="userDetails.lastName" ng-pattern="/^[a-zA-Z ]{1,20}$/" required id="lname_tb">
													<!-- <input class="form-control" placeholder="Last Name" type="text" id="lname_tb" /> -->
												</div>
											</div>
										</div>
									</div>
									<div class="col-md-6">
										<div class="panel panel-default">
											<div class="panel-heading">
												<h4 class="panel-title" style="font-size:18px;"> Contact Details</h4>
											</div>
											<div class="panel-body">
												<label>Email address<sup class="errMsg">*</sup></label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.email.$touched)&&(regForm.email.$invalid)" id="email_err_msg">Enter valid email address</span>
													<input class="form-control" placeholder="Email address" name="email" type="text" ng-model="userDetails.emailAddress" ng-pattern="/^[a-zA-Z0-9._-]+[@]([a-zA-Z.])+$/" required id="email_tb">
													<!-- <input class="form-control" placeholder="Email address" type="text" id="email_tb" /> -->
												</div>
												<label>Phone<sup class="errMsg">*</sup></label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.phonenum.$touched)&&(regForm.phonenum.$invalid)" id="phn_number_err_msg">Enter phone number upto 25 characters</span>
													<input class="form-control" placeholder="Phone Number" name="phonenum" type="text" size="3" ng-model="userDetails.phone" ng-pattern="/^[0-9 .+/()-]{1,25}$/" required id="phn_number_tb">
													<!-- <input class="form-control" placeholder="Mobile Number" type="text" id="phn_number_tb" /> -->
												</div>
                        <label>Fax<sup class="errMsg">*</sup></label>
                        <span class="errMsg" ng-show="(regForm.fax.$touched)&&(regForm.fax.$invalid)" id="fax_err_msg">Enter fax number upto 25 characters</span>
                        <input class="form-control" placeholder="Fax" name="fax" type="text" ng-model="userDetails.fax" ng-pattern="/^[0-9 .+/()-]{1,25}$/" required id="fax_tb">
											</div>
										</div>
										<div class="panel panel-default">
											<div class="panel-heading">
												<h4 class="panel-title" style="font-size:18px;"> Address Details</h4>
											</div>
											<div class="panel-body">
                        <label>Address Type</label>
												<div class="form-group">
                          <span class="errMsg" ng-show="(regForm.addrtype.$touched)&&(regForm.addrtype.$invalid)" id="addr_type_err_msg">Invalid</span>
                          <select class="form-control" id="address_type" name="addrtype" ng-options="address.addressTypeId as address.addressTypeName for address in addressTypeList" ng-model="userDetails.addressTypeTbl.addressTypeId" required>
														<option value="" label="Select" disabled selected="selected"></option>
													</select>
												</div>
												<label>Address Line1</label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.addressLine1.$touched)&&(regForm.addressLine1.$invalid)" id="addr_line1_err_msg">Enter Address min:2 max:30 characters</span>
													<textarea class="form-control" rows="3" placeholder="Address" name="addressLine1" type="text" ng-model="addrLine1" ng-pattern="/^[a-zA-Z0-9 ,./:-]{2,30}$/" required id="addr_line1_tb" />
													<!-- <textarea class="form-control" rows="3" placeholder="Address" type="text" id="addr_line1_tb" /> -->
												</div>
												<label>Address Line2</label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.addressLine2.$touched)&&(regForm.addressLine2.$invalid)" id="addr_line2_err_msg">Enter Address max:30 characters</span>
													<textarea class="form-control" rows="3" placeholder="Address" name="addressLine2" type="text" ng-model="addrLine2" ng-pattern="/^[a-zA-Z0-9 ,./:-]{1,30}$/" id="addr_line2_tb" />
													<!-- <textarea class="form-control" rows="3" placeholder="Address" type="text" id="addr_line2_tb" /> -->
												</div>
												<label>City</label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.city.$touched)&&(regForm.city.$invalid)" id="city_err_msg">Enter city min:2 max:15 characters</span>
													<input class="form-control" placeholder="City" name="city" type="text" ng-model="userDetails.city" ng-pattern="/^[a-zA-Z]{2,15}$/" required id="city_tb">
													<!-- <input class="form-control" placeholder="City" type="text" id="city_tb" /> -->
												</div>
												<label>State</label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.state.$touched)&&(regForm.state.$invalid)" id="state_err_msg">Enter state min:2 max:15 characters</span>
													<input class="form-control" placeholder="State" name="state" type="text" ng-model="state" ng-pattern="/^[a-zA-Z ]{2,15}$/" required id="state_tb">
													<!-- <input class="form-control" placeholder="State" type="text" id="state_tb" /> -->
												</div>
												<div class="form-group">
												<label for="country">Country</label><br/>
													<span class="errMsg" ng-show="(regForm.country.$touched)&&(regForm.country.$invalid)" id="country_err_msg">Select country</span>
													<select class="form-control" id="country" name="country" ng-options="country.countryId as country.countryName for country in countriesList" ng-model="userDetails.countryTbl.countryId" required>
														<option value="" label="Select" disabled selected="selected"></option>
													</select>
													<!-- <input class="form-control" placeholder="Country" type="text" id="country_tb" /> -->
												</div>
												<label>Zip code</label>
												<div class="form-group">
													<span class="errMsg" ng-show="(regForm.zipcode.$touched)&&(regForm.zipcode.$invalid)" id="postal_code_err_msg">Enter postalCode upto 10 characters</span>
													<input class="form-control" placeholder="Zip code" name="zipcode" type="input" ng-model="userDetails.zipcode" ng-pattern="/^[0-9]{1,10}$/" required id="zip_code_tb">
													<!-- <input class="form-control" placeholder="Postal Code" type="input" id="postal_code_tb" /> -->
												</div>

											</div>
										</div>


<br/>
                                <!-- Change this to a button or input when using this as a form -->

									</div>
								</div>
								<div class="row">
									<div class="col-sm-3">
										<button class="btn btn-lg btn-primary btn-block" ng-disabled="!((regForm.uname.$valid)&&(regForm.pass.$valid)&&
                    (passMsgValid)&&(regForm.fname.$valid)&&(regForm.mname.$valid)&&(regForm.lname.$valid)&&(regForm.email.$valid)&&
                    (regForm.phonenum.$valid)&&(regForm.fax.$valid)&&(regForm.addrtype.$valid)&&(regForm.addressLine1.$valid)&&
                    (regForm.addressLine2.$valid)&&(regForm.city.$valid)&&(regForm.state.$valid)&&(regForm.country.$valid)&&
                    (regForm.zipcode.$valid)&&(regForm.roleType.$valid)&&(regForm.passQues.$valid)&&(regForm.passAnsw.$valid))"
                    ng-click="saveData()" id="save_button">
                    <i class="fa fa-floppy-o" aria-hidden="true"></i> Save</button>
									</div>
                </div>

							</fieldset>
                        </form>
						<br/><br/>
                    </div>
                </div>
				<div class="cleaner h80"></div>
            </div>
        </div>

      <div class="row" ng-show="raRegFormResult">
			<div class="col-md-12">
				<div class="alert alert-success Issuance-true-div" style="display: block; text-align: center; font-weight: bold;">
					The request submitted successfully and being processed.
				</div>
			</div>
		</div>

	</div>
    <!-- /.container -->
